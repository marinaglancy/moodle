{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    Template for showing to the user the policy docs to agree.

    Classes required for JS:
    -

    Data attributes required for JS:
    -

    Context variables required for this template:
    * policies - policy array
    * privacyofficer - string
}}

{{! TODO: Review styles }}

{{{startform}}}

{{#user}}
{{# str }} viewconsentpageforuser, tool_policy, {{{ . }}} {{/ str }}
{{/user}}

{{#policies}}

    <div class='agreedoc'>
    {{! TODO: Review which fields to use for showing policy version summay.
        ATM, name and description are used, but it's possible we'll need to replace
        them to new summary field.
     }}
    <h2>{{{name}}}</h2>
    <div class='agreedoc-summary'>
      {{{description}}}
    </div>
    <div class='agreedoc-form'>
        <p>{{{refertofulltext}}}</p>
        <p>
            {{{agreecheckbox}}}
            {{#versionlangsagreed}}
                <br/>{{{.}}}
            {{/versionlangsagreed}}
            {{#versionbehalfsagreed}}
                <br/>{{{.}}}
            {{/versionbehalfsagreed}}
        </p>
    </div>

{{/policies}}

{{! TODO: Review where to show the Privacy officer information. }}
{{#privacyofficer}}
  <div class='agreedoc-officer'>
    {{{privacyofficer}}}
  </div>
{{/privacyofficer}}

<div class="agreedocs-buttons">
{{#navigation}}
    {{{.}}}
{{/navigation}}
</div>

{{{endform}}}
